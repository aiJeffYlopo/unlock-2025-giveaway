<!DOCTYPE html>
<html lang="en" class="h-full bg-[#EFF4FF]">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MaverickRE Unlock 2025 Giveaway</title>
    <!-- Load Tailwind CSS --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Inter font --><link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Load Lucide Icons for Timeline --><script src="https://unpkg.com/lucide-react@0.378.0/dist/umd/lucide.js"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom gradient for the header using primary brand blues */
        .header-gradient {
            background: linear-gradient(90deg, #1c1763 0%, #223165 50%, #2a63e4 100%);
        }
        /* Custom shadow for a subtle lift */
        .card-shadow {
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.05), 0 2px 4px -2px rgb(0 0 0 / 0.05);
        }

        /* --- STYLES FOR TIMELINE WIDGET --- */
        .new-timeline-wrapper {
            position: relative;
            padding-left: 50px; /* Space for the line and dots */
            padding-right: 20px;
            margin: 0 auto;
            max-width: 600px; /* Adjust as needed */
        }

        .new-timeline-line {
            position: absolute;
            left: 20px; /* Aligns with dot center */
            top: 0;
            bottom: 0;
            width: 4px;
            background-color: #cbd5e1; /* gray-300 */
            border-radius: 2px;
        }

        .new-timeline-progress-line {
            position: absolute;
            left: 20px;
            top: 0;
            width: 4px;
            background-color: #3b82f6; /* blue-500 */
            border-radius: 2px;
            transition: height 0.5s ease-out;
            height: 0%;
        }

        .new-timeline-item {
            position: relative;
            margin-bottom: 2.5rem; /* Space between items */
            padding-left: 30px; /* Space for the dot */
            display: flex;
            align-items: center;
        }

        .new-timeline-dot {
            position: absolute;
            left: 0;
            top: 50%; /* Vertically center with the content */
            transform: translateY(-50%);
            width: 40px; /* Larger dot */
            height: 40px;
            background-color: #94a3b8; /* Inactive color */
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 4px solid white;
            transition: all 0.3s ease;
            box-shadow: 0 0 0 2px rgba(0,0,0,0.05);
            z-index: 5;
        }

        .new-timeline-dot.active {
            background-color: #3b82f6; /* blue-500 */
            border-color: #93c5fd; /* blue-300 */
            box-shadow: 0 0 0 6px rgba(59, 130, 246, 0.3);
        }

        .new-timeline-content {
            flex-grow: 1;
            padding: 1rem 1.25rem; /* Larger padding for the card */
            background-color: white;
            border-radius: 12px; /* More rounded */
            border: 1px solid #e2e8f0;
            box-shadow: 0 6px 16px rgba(0,0,0,0.08); /* Stronger shadow */
            transition: all 0.3s ease;
            text-align: left; /* Ensure text is left-aligned within the card */
            margin-left: 20px; /* Offset from the dot */
        }

        .new-timeline-item.active .new-timeline-content {
            border-color: #3b82f6;
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.25);
        }

        .new-timeline-content h3 {
            font-size: 1.25rem; /* Larger date font */
            font-weight: 700;
            color: #1c1763; /* Darker blue */
            margin-bottom: 0.5rem;
        }

        .new-timeline-content p {
            font-size: 1rem; /* Larger description font */
            color: #475569;
            line-height: 1.5;
        }

        .new-timeline-announcement {
            font-size: 1.5rem; /* Even larger for announcements */
            font-weight: 800;
            color: #2a63e4; /* Primary blue for announcements */
            text-align: center;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }

        .new-timeline-info-text {
            font-size: 1.1rem; /* Larger info text */
            color: #354095;
            text-align: center;
            margin-top: 0.5rem;
        }
        /* --- END OF NEW TIMELINE STYLES --- */
    </style>
</head>
<body class="min-h-full antialiased">
    <div class="flex flex-col min-h-screen">

        <!-- Header --><header class="header-gradient text-white p-6 md:p-10 text-center rounded-b-xl relative overflow-hidden">
            <div class="absolute inset-0 bg-gradient-to-r from-[#1c1763]/90 via-[#223165]/90 to-[#2a63e4]/90 z-0"></div>
            <div class="relative z-10 flex flex-col items-center">
                <!-- Logo now inverted to white --><img src="https://storage.pardot.com/923023/1722278010WdyqcrQl/MaverickRE_Logo_Big_No_Space.png" alt="MaverickRE Logo" class="h-16 md:h-20 mb-4 invert">
                <h1 class="text-3xl md:text-5xl font-extrabold mb-2">Unlock 2025 Giveaway</h1>
                <p class="text-lg md:text-xl text-[#CBDBFF]">Win Big at Booth #3! One Entry, Three Tiers of Prizes.</p>
            </div>
        </header>

        <!-- Main Content --><main class="flex-grow p-4 md:p-8 max-w-7xl mx-auto w-full">

            <!-- How to Enter Section --><section class="mb-8 md:mb-12">
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-[#CBDBFF] max-w-3xl mx-auto">
                    <h2 class="text-2xl md:text-3xl font-bold text-[#1c1763] text-center mb-5">How to Enter (All Tiers)</h2>
                    <div class="flex flex-col md:flex-row gap-6 justify-center">
                        <!-- Method 1: Digital Form --><div class="flex-1 flex items-center gap-4 p-4 bg-[#EFF4FF] border border-[#B1C9FF] rounded-xl">
                            <!-- Icon --><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-text text-[#2a63e4] flex-shrink-0"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M10 9H8"/><path d="M16 13H8"/><path d="M16 17H8"/></svg>
                            <div>
                                <h3 class="font-semibold text-lg text-[#223165]">Digital Form (Fastest)</h3>
                                <p class="text-[#354095]">Complete the quick interest form at our booth.</p>
                            </div>
                        </div>
                        <!-- Method 2: AMOE --><div class="flex-1 flex items-center gap-4 p-4 bg-gray-50 border border-gray-200 rounded-xl">
                            <!-- Icon --><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-contact text-[#546681] flex-shrink-0"><path d="M17 18a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2"/><rect width="18" height="18" x="3" y="4" rx="2"/><circle cx="12" cy="10" r="2"/><line x1="8" x2="8" y1="2" y2="4"/><line x1="16" x2="16" y1="2" y2="4"/></svg>
                            <div>
                                <h3 class="font-semibold text-lg text-[#193042]">Business Card Drop (AMOE)</h3>
                                <p class="text-[#546681]">Drop your card or a paper slip in the entry box.</p>
                            </div>
                        </div>
                    </div>
                    <p class="text-center text-[#546681] mt-4 text-sm">One entry automatically enters you into all three prize tiers. No purchase or demo required.</p>
                </div>
            </section>

            <!-- Prize Tiers Section --><section class="mb-8 md:mb-12">
                <h2 class="text-3xl md:text-4xl font-extrabold text-[#1c1763] text-center mb-6">The Prizes (Over $20,000 ARV)</h2>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

                    <!-- Tier 1: Grand Prize --><div class="flex flex-col bg-white rounded-2xl shadow-lg border-4 border-[#2a63e4] card-shadow overflow-hidden">
                        <div class="p-6">
                            <span class="inline-block bg-[#2a63e4] text-white text-lg font-bold px-4 py-2 rounded-full mb-4">TIER 1 - GRAND PRIZE</span>
                            <h3 class="text-2xl font-bold text-[#1c1763] mb-2">1-Year Revenue Accelerator Pro</h3>
                            <p class="text-2xl font-bold text-[#004EFF] mb-3">1 WINNER</p>
                            <p class="text-[#354095] font-semibold text-lg">Up to $17,700 Value (Each)</p>
                        </div>
                        <div class="bg-[#EFF4FF] p-6 mt-auto">
                            <h4 class="font-bold text-lg text-[#1c1763] mb-3 flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users text-[#2a63e4]"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 2 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 0 0 0-3-3.87"/><path d="M16 3.13a4 0 0 1 0 7.75"/></svg>
                                Bonus: Referrals
                            </h4>
                            <p class="text-[#223165] mb-4">Refer a friend. If they win, <strong class="font-bold">you win a matching prize!</strong> (Limit 1 matched prize). Add "Referred by [Your Name]" to their entry.</p>
                            <div class="bg-white border border-[#B1C9FF] rounded-lg p-3">
                                <p class="font-semibold text-[#1c1763]">Winner Drawn:</p>
                                <p class="text-[#004EFF] font-medium">Wed, Nov 5 @ 5:00 PM (at booth)</p>
                            </div>
                        </div>
                    </div>

                    <!-- Tier 2: MacBook Pro --><div class="flex flex-col bg-white rounded-2xl shadow-lg border border-[#CBDBFF] card-shadow overflow-hidden">
                        <div class="p-6">
                            <span class="inline-block bg-[#546681] text-white text-lg font-bold px-4 py-2 rounded-full mb-4">TIER 2</span>
                            <h3 class="text-2xl font-bold text-[#193042] mb-2">14" MacBook Pro®</h3>
                            <p class="text-2xl font-bold text-[#546681] mb-3">1 WINNER</p>
                            <p class="text-[#546681] font-semibold text-lg">Up to $1,800 Value</p>
                        </div>
                        <div class="bg-[#EFF4FF] p-6 mt-auto">
                            <h4 class="font-bold text-lg text-[#193042] mb-3 flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trending-up text-[#F0AE00]"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></svg>
                                Bonus: Demo Entries
                            </h4>
                            <ul class="space-y-2 mb-4">
                                <li class="flex items-center gap-2 text-[#193042]">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-plus text-[#6BB100]"><path d="M8 2v4"/><path d="M16 2v4"/><path d="M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8"/><path d="M3 10h18"/><path d="M16 19h6"/><path d="M19 16v6"/></svg>
                                    <strong class="font-semibold text-[#559E00]">+5 Entries</strong> for <strong class="font-bold">booking</strong> a demo (by Nov 5)
                                </li>
                                <li class="flex items-center gap-2 text-[#193042]">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-check text-[#6BB100]"><path d="M8 2v4"/><path d="M16 2v4"/><path d="M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8"/><path d="M3 10h18"/><path d="m16 20 2 2 4-4"/></svg>
                                    <strong class="font-semibold text-[#559E00]">+20 Entries</strong> for <strong class="font-bold">attending</strong> a demo (by Nov 14)
                                </li>
                            </ul>
                            <div class="bg-white border border-[#B1C9FF] rounded-lg p-3">
                                <p class="font-semibold text-[#193042]">Winner Drawn:</p>
                                <p class="text-[#546681] font-medium">By Friday, Nov 21</p>
                            </div>
                        </div>
                    </div>

                    <!-- Tier 3: iPhone --><div class="flex flex-col bg-white rounded-2xl shadow-lg border border-[#CBDBFF] card-shadow overflow-hidden">
                        <div class="p-6">
                            <span class="inline-block bg-[#546681] text-white text-lg font-bold px-4 py-2 rounded-full mb-4">TIER 3</span>
                            <h3 class="text-2xl font-bold text-[#193042] mb-2">iPhone® 17 Pro / Pro Max</h3>
                            <p class="text-2xl font-bold text-[#546681] mb-3">1 WINNER</p>
                            <p class="text-[#546681] font-semibold text-lg">Up to $1,325 Value</p>
                        </div>
                        <div class="bg-[#EFF4FF] p-6 mt-auto">
                            <h4 class="font-bold text-lg text-[#193042] mb-3 flex items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trending-up text-[#F0AE00]"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></svg>
                                Bonus: Demo Entries
                            </h4>
                            <ul class="space-y-2 mb-4">
                                <li class="flex items-center gap-2 text-[#193042]">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-plus text-[#6BB100]"><path d="M8 2v4"/><path d="M16 2v4"/><path d="M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8"/><path d="M3 10h18"/><path d="M16 19h6"/><path d="M19 16v6"/></svg>
                                    <strong class="font-semibold text-[#559E00]">+5 Entries</strong> for <strong class="font-bold">booking</strong> a demo (by Nov 5)
                                </li>
                                <li class="flex items-center gap-2 text-[#193042]">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-calendar-check text-[#6BB100]"><path d="M8 2v4"/><path d="M16 2v4"/><path d="M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8"/><path d="M3 10h18"/><path d="m16 20 2 2 4-4"/></svg>
                                    <strong class="font-semibold text-[#559E00]">+20 Entries</strong> for <strong class="font-bold">attending</strong> a demo (by Nov 14)
                                </li>
                            </ul>
                            <div class="bg-white border border-[#B1C9FF] rounded-lg p-3">
                                <p class="font-semibold text-[#193042]">Winner Drawn:</p>
                                <p class="text-[#546681] font-medium">By Friday, Nov 21</p>
                            </div>
                        </div>
                    </div>

                </div>
            </section>

            <!-- Timeline Section - Completely redesigned --><section class="mb-8 md:mb-12">
                <h2 class="text-3xl md:text-4xl font-extrabold text-[#1c1763] text-center mb-6">Giveaway Timeline</h2>
                <div class="bg-white rounded-xl shadow-lg p-6 md:p-10 flex justify-center">
                    <div class="new-timeline-wrapper">
                        <div class="new-timeline-line"></div>
                        <div id="new-timeline-progress-line" class="new-timeline-progress-line"></div>
                        
                        <!-- Milestone 1: Start --><div class="new-timeline-item" data-milestone="start">
                            <div class="new-timeline-dot" id="node-start">
                                <i data-lucide="calendar-plus" class="text-white w-6 h-6"></i>
                            </div>
                            <div class="new-timeline-content">
                                <h3>Nov 2, 12:00 AM PT</h3>
                                <p>Promotion & Entry Period Begins (All Tiers)</p>
                            </div>
                        </div>

                        <!-- Milestone 2: Bonus Entries --><div class="new-timeline-item" data-milestone="bonus">
                            <div class="new-timeline-dot" id="node-bonus">
                                <i data-lucide="briefcase" class="text-white w-6 h-6"></i>
                            </div>
                            <div class="new-timeline-content">
                                <h3>Nov 2–5</h3>
                                <p>Bonus Entries: Book a Demo (+5)</p>
                            </div>
                        </div>

                        <!-- Milestone 3: Conference End & Tier 1 Announcement --><div class="new-timeline-item" data-milestone="conference-end">
                            <div class="new-timeline-dot" id="node-conference-end">
                                <i data-lucide="calendar-check" class="text-white w-6 h-6"></i>
                            </div>
                            <div class="new-timeline-content">
                                <h3>Nov 5, 5:00 PM PT</h3>
                                <p>Entry Period Closes.</p>
                                <p class="new-timeline-announcement">Tier 1 Winner Announced!</p>
                            </div>
                        </div>
                        
                        <!-- Milestone 4: Demo Window End --><div class="new-timeline-item" data-milestone="demo-end">
                            <div class="new-timeline-dot" id="node-demo-end">
                                <i data-lucide="award" class="text-white w-6 h-6"></i>
                            </div>
                            <div class="new-timeline-content">
                                <h3>Nov 14, 11:59 PM PT</h3>
                                <p>Tier 2 & 3 Bonus Window Ends (+20 for attending)</p>
                            </div>
                        </div>

                        <!-- Milestone 5: Winners Announced --><div class="new-timeline-item" data-milestone="announce">
                            <div class="new-timeline-dot" id="node-announce">
                                <i data-lucide="trophy" class="text-white w-6 h-6"></i>
                            </div>
                            <div class="new-timeline-content">
                                <h3>By Nov 21</h3>
                                <p>Final drawing complete.</p>
                                <p class="new-timeline-announcement">Tier 2 & 3 Winners Announced!</p>
                            </div>
                        </div>

                    </div>
                </div>
            </section>

            <!-- Eligibility Section --><section class="max-w-2xl mx-auto">
                <!-- Eligibility --><div class="bg-white p-6 rounded-2xl shadow-lg border border-[#CBDBFF]">
                    <h3 class="text-xl font-bold text-[#1c1763] mb-4 flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-check-circle text-[#6BB100]"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><path d="m9 11 3 3L22 4"/></svg>
                        Who Can Enter?
                    </h3>
                    <p class="text-[#354095]">
                        Open to attendees of the <strong>Unlock Conference 2025</strong> who are <strong>licensed real-estate professionals</strong>, 18 years or older.
                    </p>
                    <p class="text-[#546681] text-sm mt-3">
                        Employees/agents of Sponsor and their household members are not eligible. Void where prohibited.
                    </p>
                </div>
            </section>

        </main>

        <!-- Footer / Disclaimer --><footer class="p-6 md:p-8 mt-8 text-center bg-[#D9ECBE]">
            <p class="text-xs text-[#193042] max-w-4xl mx-auto">
                NO PURCHASE OR DEMO REQUIRED TO ENTER OR WIN. A PURCHASE OR DEMO WILL NOT INCREASE YOUR CHANCES OF WINNING, BUT ATTENDING A DEMO WILL EARN BONUS ENTRIES FOR TIERS 2 & 3. VOID WHERE PROHIBITED. Open to licensed real-estate professionals attending Unlock Conference 2025, 18+. Odds depend on number of eligible entries.
                Apple®, MacBook Pro®, and iPhone® are registered trademarks of Apple Inc. Apple® is not a sponsor and is not affiliated with this promotion. See Official Rules at Booth #3 for full details, entry methods, prize descriptions, and restrictions.
            </p>
        </footer>

    </div>

    <!-- SCRIPT FOR TIMELINE WIDGET --><script>
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize Lucide icons
            lucide.createIcons();

            // --- Define Key Dates ---
            const DATES = {
                START: new Date('2025-11-02T00:00:00-07:00'), // 12:00 AM PDT
                BONUS_END: new Date('2025-11-05T00:00:00-08:00'), // Start of Nov 5, for booking bonus
                CONFERENCE_END: new Date('2025-11-05T17:00:00-08:00'), // 5:00 PM PST
                DEMO_WINDOW_END: new Date('2025-11-14T23:59:59-08:00'), // 11:59 PM PST
                TIER_2_3_ANNOUNCE: new Date('2025-11-21T23:59:59-08:00'), // End of day
                // *** This is the "current" time, set per user request ***
                NOW: new Date('2025-11-02T23:14:28-08:00') // November 2nd, 11:14 PM PST
                // To test other dates, uncomment one of the lines below:
                // NOW: new Date('2025-10-31T15:35:00-07:00') // Before start
                // NOW: new Date('2025-11-03T10:00:00-08:00') // During conference, bonus active
                // NOW: new Date('2025-11-06T10:00:00-08:00') // After conference, demo window open
                // NOW: new Date('2025-11-15T10:00:00-08:00') // After demo window, before announce
                // NOW: new Date('2025-11-22T10:00:00-08:00') // All over
            };
            
            const timelineItems = document.querySelectorAll('.new-timeline-item');
            const progressLine = document.getElementById('new-timeline-progress-line');

            function updateTimelineState() {
                const now = DATES.NOW;
                let activeNodeIndex = -1;

                // Determine active state for nodes and content
                if (now >= DATES.START) {
                    document.getElementById('node-start').classList.add('active');
                    activeNodeIndex = 0;
                }
                if (now >= DATES.BONUS_END) { // Changed condition for bonus end (booking bonus ends when Nov 5 starts)
                    document.getElementById('node-bonus').classList.add('active');
                    activeNodeIndex = 1;
                }
                if (now >= DATES.CONFERENCE_END) {
                    document.getElementById('node-conference-end').classList.add('active');
                    activeNodeIndex = 2;
                }
                if (now >= DATES.DEMO_WINDOW_END) {
                    document.getElementById('node-demo-end').classList.add('active');
                    activeNodeIndex = 3;
                }
                if (now >= DATES.TIER_2_3_ANNOUNCE) {
                    document.getElementById('node-announce').classList.add('active');
                    activeNodeIndex = 4;
                }

                // Calculate progress line height
                let totalHeight = 0;
                let currentProgressHeight = 0;

                for (let i = 0; i < timelineItems.length; i++) {
                    const item = timelineItems[i];
                    totalHeight += item.offsetHeight; // Height of the item (content + margin)

                    // If this is the active node or a past node, accumulate height for progress line
                    if (i <= activeNodeIndex) {
                        currentProgressHeight += item.offsetHeight;
                    }
                    // For the actively progressing segment, calculate partial height
                    if (i === activeNodeIndex && activeNodeIndex < timelineItems.length - 1) {
                        const nextItemTop = timelineItems[i+1].offsetTop;
                        const currentItemTop = item.offsetTop;
                        const currentItemHeight = item.offsetHeight;

                        let segmentStart = 0; // Relative to current item
                        let segmentEnd = currentItemHeight; // Relative to current item

                        // Get the current date's position within the active segment
                        let segmentProgress = 0;
                        let segmentDuration = 0;
                        let segmentElapsed = 0;

                        if (activeNodeIndex === 0) { // Between START and BONUS_END
                            segmentDuration = DATES.BONUS_END.getTime() - DATES.START.getTime();
                            segmentElapsed = now.getTime() - DATES.START.getTime();
                        } else if (activeNodeIndex === 1) { // Between BONUS_END and CONFERENCE_END
                            segmentDuration = DATES.CONFERENCE_END.getTime() - DATES.BONUS_END.getTime();
                            segmentElapsed = now.getTime() - DATES.BONUS_END.getTime();
                        } else if (activeNodeIndex === 2) { // Between CONFERENCE_END and DEMO_WINDOW_END
                            segmentDuration = DATES.DEMO_WINDOW_END.getTime() - DATES.CONFERENCE_END.getTime();
                            segmentElapsed = now.getTime() - DATES.CONFERENCE_END.getTime();
                        } else if (activeNodeIndex === 3) { // Between DEMO_WINDOW_END and TIER_2_3_ANNOUNCE
                            segmentDuration = DATES.TIER_2_3_ANNOUNCE.getTime() - DATES.DEMO_WINDOW_END.getTime();
                            segmentElapsed = now.getTime() - DATES.DEMO_WINDOW_END.getTime();
                        }

                        if (segmentDuration > 0) {
                            segmentProgress = Math.min(1, Math.max(0, segmentElapsed / segmentDuration));
                        } else {
                            segmentProgress = 1; // If duration is 0, instantly complete
                        }
                        
                        // Calculate partial height within the current segment
                        const partialSegmentHeight = (nextItemTop - currentItemTop) * segmentProgress;
                        currentProgressHeight = currentItemTop + partialSegmentHeight;
                    }
                }
                
                // Ensure the progress line doesn't extend beyond the last node if not yet at 100%
                const lastDotOffset = timelineItems[timelineItems.length - 1].offsetTop + 20; // Center of last dot
                if (now < DATES.TIER_2_3_ANNOUNCE) {
                    progressLine.style.height = `${Math.min(currentProgressHeight, lastDotOffset)}px`;
                } else {
                    progressLine.style.height = `${lastDotOffset}px`; // Go to end of line if all complete
                }

                // Add active class to timeline cards
                document.querySelectorAll('.new-timeline-item').forEach((item, index) => {
                    if (index <= activeNodeIndex) {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });
            }

            // Initial call and update on resize
            updateTimelineState();
            window.addEventListener('resize', updateTimelineState);
        });
    </script>
</body>
</html>


